import { Canvas, Meta, Story } from '@storybook/addon-docs';

import { useRef, useState } from 'react';
import { ThemedContainer } from '../../helpers';
import DialogBox from './DialogBox';

<Meta title='Components/Modal' parameters={{ options: { showToolbar: true } }} />

# DialogBox

The DialogBox component is a customizable dialog box that presents users with a prompt, message, or choice. It's built on the BaseModal component and offers a straightforward way to create modal dialogs with headers, descriptions, and action buttons.

#### Design - [Figma](https://www.figma.com/file/e9opoAtQHBo4vFd6u0Co98/Component-Library?node-id=730%3A50667&mode=dev) | Code - [Github](https://github.com/banyandata-cloud/roots/tree/main/components/modal/dialogBox)

> The DialogBox component simplifies the process of creating dialog boxes by utilizing the features provided by the BaseModal component. This allows you to focus on defining dialog content and actions without dealing with the intricacies of modal mechanics.

## Usage

Basic import and additional information on how to use this component.

```js
import { DialogBox } from '@banyan_cloud/roots';
```

-   The DialogBox component utilizes the BaseModal component as a wrapper, providing modal behavior and appearance.
-   The onCancel and onAction props define the behavior of the cancel and action buttons.
-   The variant prop sets the color variant of the action button.

## Stories

The CSF rendered inside the `Canvas` from which you can see the implementation example.

### Simple DialogBox

The default Dialog Box.

<Canvas>
	<Story name='Dialog'>
		{() => {
			const dialogRef = useRef(null);
			const toggle = () => {
				if (dialogRef.current) {
					console.log('mlk');
					dialogRef.current.dialog({
						title: 'Delete Row?',
						description: 'Are you sure you want to delete?',
						actionText: 'Done',
						cancelText: 'Save',
						variant: 'primary',
						onAction: () => {
						},
					});
				}
			};
			return (
				<ThemedContainer theme='light'>
					<button
						type='button'
						onClick={toggle}
						style={{
							padding: 10,
						}}>
						Open Modal
					</button>
					<DialogBox ref={dialogRef} />
				</ThemedContainer>
			);
		}}
	</Story>
</Canvas>

## Try in the Code Editor

This embeded `CodeSandBox` is external third party code editor `iframe` shared publicly. It is advised to create an account with banyancloud mail id to create/fork this sandbox.

## API

**`className`**

Additional CSS class names to be applied to the DialogBox component.

<table style={{ width: '100%' }}>
	<tr>
		<th style={{ textAlign: 'left', width: '50%' }}>TYPE</th>
		<th style={{ textAlign: 'left', width: '50%' }}>DEFAULT</th>
	</tr>
	<tr>
		<td>String</td>
		<td>""</td>
	</tr>
</table>

```jsx
<DialogBox className='additionalClass' />
```

**`heading`**

The title or heading of the dialog.

<table style={{ width: '100%' }}>
	<tr>
		<th style={{ textAlign: 'left', width: '50%' }}>TYPE</th>
		<th style={{ textAlign: 'left', width: '50%' }}>DEFAULT</th>
	</tr>
	<tr>
		<td>String</td>
		<td>'selected row'</td>
	</tr>
</table>

```jsx
<DialogBox heading='Heading text' />
```

**`action`**

Text for the action button in the dialog.

<table style={{ width: '100%' }}>
	<tr>
		<th style={{ textAlign: 'left', width: '50%' }}>TYPE</th>
		<th style={{ textAlign: 'left', width: '50%' }}>DEFAULT</th>
	</tr>
	<tr>
		<td>String</td>
		<td>''</td>
	</tr>
</table>

```jsx
<DialogBox action='Action button text' />
```

**`description`**

Text for the action button in the dialog.

<table style={{ width: '100%' }}>
	<tr>
		<th style={{ textAlign: 'left', width: '50%' }}>TYPE</th>
		<th style={{ textAlign: 'left', width: '50%' }}>DEFAULT</th>
	</tr>
	<tr>
		<td>String</td>
		<td>'description selected page'</td>
	</tr>
</table>

```jsx
<DialogBox description='Description text' />
```

**`onCancel`**

Function to execute when the cancel action is triggered.

<table style={{ width: '100%' }}>
	<tr>
		<th style={{ textAlign: 'left', width: '50%' }}>TYPE</th>
		<th style={{ textAlign: 'left', width: '50%' }}>DEFAULT</th>
	</tr>
	<tr>
		<td>Function</td>
		<td>{`() => {}`}</td>
	</tr>
</table>

```jsx
<DialogBox
	onCancel={() => {
		console.log('Cancel action triggered');
	}}
/>
```

**`onAction`**

Function to execute when the action button is triggered.

<table style={{ width: '100%' }}>
	<tr>
		<th style={{ textAlign: 'left', width: '50%' }}>TYPE</th>
		<th style={{ textAlign: 'left', width: '50%' }}>DEFAULT</th>
	</tr>
	<tr>
		<td>Function</td>
		<td>{`() => {}`}</td>
	</tr>
</table>

```jsx
<DialogBox
	onCancel={() => {
		console.log('Action button triggered');
	}}
/>
```

**`variant`**

The color variant for the action button.

<table style={{ width: '100%' }}>
	<tr>
		<th style={{ textAlign: 'left', width: '50%' }}>TYPE</th>
		<th style={{ textAlign: 'left', width: '50%' }}>DEFAULT</th>
	</tr>
	<tr>
		<td>'primary', 'success', 'danger', 'warning'</td>
		<td>'danger'</td>
	</tr>
</table>

```jsx
<DialogBox variant='success' />
```

**`size`**

The size of the dialog.

<table style={{ width: '100%' }}>
	<tr>
		<th style={{ textAlign: 'left', width: '50%' }}>TYPE</th>
		<th style={{ textAlign: 'left', width: '50%' }}>DEFAULT</th>
	</tr>
	<tr>
		<td>'sm', 'md'</td>
		<td>'sm'</td>
	</tr>
</table>

```jsx
<DialogBox size='sm' />
```
