import { Meta, Canvas, Story } from '@storybook/addon-docs';

import ThemedContainer from '../../../helpers/themedContainer/ThemedContainer';
import { CalenderIcon, CopyIcon, ServerIcon } from '../../../icons';
import ChipDropdown from './chipDropdown/ChipDropdown';
import { TableChip } from './TableChip.class';
import TableChips from './TableChips';

<Meta title='Components/Table/TableTop/Chips' parameters={{ options: { showToolbar: false } }} />

export const CHIP_OPTIONS = ['Option A', 'Option B'];

export const Template = (args) => (
	<ThemedContainer {...args}>
		<TableChips {...args} />
	</ThemedContainer>
);

# Table Chips

#### Design - [Figma](https://www.figma.com/file/e9opoAtQHBo4vFd6u0Co98/Component-Library?type=design&node-id=1-5&mode=design&t=tXbQWENNIzmFNTVU-0) | Code - [Github](https://github.com/banyandata-cloud/roots/tree/main/components/table/table/tableChips)

## Usage

Basic import and additional information on how to use this component.

```js
import { TableChips } from '@banyan_cloud/roots';
```

## Stories

The CSF rendered inside the `Canvas` from which you can see the implementation example.

### Default

<Canvas>
	<Story
		name='Default'
		args={{
			showBack: true,
			chips: [
				new TableChip({
					key: 'something',
					icon: ServerIcon,
					label: 'DB Tech',
					value: 'PgSQL',
					search: true,
				}),
				new TableChip({
					key: 'something',
					icon: ServerIcon,
					label: 'DB Tech',
					value: 'MySQL',
					disabled: true,
				}),
				new TableChip({
					key: 'something',
					icon: (iconProps) => {
						return <CopyIcon {...iconProps} />;
					},
					label: 'Cloud',
					value: 'Google',
				}),
				new TableChip({
					id: 'reg',
					icon: CalenderIcon,
					label: 'Regulations',
					value: '',
					rightComponent: () => {
						return (
							<ChipDropdown
								options={CHIP_OPTIONS?.map((option) => {
									return {
										title: option,
										value: option,
									};
								})}
								value={' '}
								formatter={() => {
									return null;
								}}
							/>
						);
					},
				}),
				new TableChip({
					key: 'something',
					icon: (iconProps) => {
						return <CalenderIcon {...iconProps} />;
					},
					label: 'Hidden',
					value: null,
					disabled: true,
				}),
			],
		}}>
		{Template.bind({})}
	</Story>
</Canvas>

### HiddenOnNull

<Canvas>
	<Story
		name='HiddenOnNull'
		args={{
			showBack: true,
			chips: [
				new TableChip({
					key: 'something',
					icon: ServerIcon,
					label: 'DB Tech',
					value: 'PgSQL',
					search: true,
				}),
				new TableChip({
					key: 'something',
					icon: ServerIcon,
					label: 'DB Tech',
					value: 'MySQL',
					disabled: true,
				}),
				new TableChip({
					key: 'something',
					icon: (iconProps) => {
						return <CopyIcon {...iconProps} />;
					},
					label: 'Cloud',
					value: 'Google',
				}),
				new TableChip({
					id: 'reg',
					icon: CalenderIcon,
					label: 'Regulations',
					value: '',
					rightComponent: () => {
						return (
							<ChipDropdown
								options={CHIP_OPTIONS?.map((option) => {
									return {
										title: option,
										value: option,
									};
								})}
								value={' '}
								formatter={() => {
									return null;
								}}
							/>
						);
					},
				}),
				new TableChip({
					key: 'something',
					icon: (iconProps) => {
						return <CalenderIcon {...iconProps} />;
					},
					label: 'Hidden',
					value: null,
					disabled: true,
				}),
			].map((chip) => {
				return {
					...chip,
					value: null,
				};
			}),
		}}>
		{Template.bind({})}
	</Story>
</Canvas>

## Try in the Code Editor

This embeded `CodeSandBox` is external third party code editor `iframe` shared publicly. It is advised to create an account with banyancloud mail id to create/fork this sandbox.

<iframe
	src='https://codesandbox.io/s/delicate-wood-vrqzpw?file=/src/App.js'
	style={{ width: '100%', height: 500 }}
	title='xenodochial-moon-5y668f'
	allow='accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking'
	sandbox='allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts'></iframe>

## API

**`chips`**

The key that holds details of all headers of the Table mapped to the Data with key.
It has following shape - `key`, `icon`, `label`, `value`, `disabled` and `rightComponent`.

<table style={{ width: '100%' }}>
	<tr>
		<th style={{ textAlign: 'left', width: '50%' }}>TYPE</th>
		<th style={{ textAlign: 'left', width: '50%' }}>DEFAULT</th>
	</tr>
	<tr>
		<td>Array</td>
		<td>[]</td>
	</tr>
</table>

```jsx
<BaseTable
	chips={[
		new TableChip({
			key: 'something',
			icon: ServerIcon,
			label: 'DB Tech',
			value: 'PgSQL',
			search: true,
		}),
		new TableChip({
			key: 'something',
			icon: ServerIcon,
			label: 'DB Tech',
			value: 'MySQL',
			disabled: true,
		}),
		new TableChip({
			key: 'something',
			icon: (iconProps) => {
				return <CopyIcon {...iconProps} />;
			},
			label: 'Cloud',
			value: 'Google',
		}),
		new TableChip({
			id: 'reg',
			icon: CalenderIcon,
			label: 'Regulations',
			value: '',
			rightComponent: () => {
				return (
					<ChipDropdown
						options={CHIP_OPTIONS?.map((option) => {
							return {
								title: option,
								value: option,
							};
						})}
						value={' '}
						formatter={() => {
							return null;
						}}
					/>
				);
			},
		}),
		new TableChip({
			key: 'something',
			icon: (iconProps) => {
				return <CalenderIcon {...iconProps} />;
			},
			label: 'Hidden',
			value: null,
			disabled: true,
		}),
	]}
/>
```

**`showBack`**

The key that decides whether to show back button or not.

<table style={{ width: '100%' }}>
	<tr>
		<th style={{ textAlign: 'left', width: '50%' }}>TYPE</th>
		<th style={{ textAlign: 'left', width: '50%' }}>DEFAULT</th>
	</tr>
	<tr>
		<td>bool</td>
		<td>false</td>
	</tr>
</table>

```jsx
<TableChips showBack={false} />
```

**`tooltip`**

The tooltip that shows over a Table Cell.

<table style={{ width: '100%' }}>
	<tr>
		<th style={{ textAlign: 'left', width: '50%' }}>TYPE</th>
		<th style={{ textAlign: 'left', width: '50%' }}>DEFAULT</th>
	</tr>
	<tr>
		<td>Object</td>
		<td>{}</td>
	</tr>
</table>

```jsx
<TableChips
	tooltip={}
/>
```

**`onBack`**
A callback function to capture Back Button Click Event.

<table style={{ width: '100%' }}>
	<tr>
		<th style={{ textAlign: 'left', width: '50%' }}>TYPE</th>
		<th style={{ textAlign: 'left', width: '50%' }}>DEFAULT</th>
	</tr>
	<tr>
		<td>Function</td>
		<td>() => {}</td>
	</tr>
</table>

```jsx
<TableChips
	onBack={() => {
		// Reset some Data
	}}
/>
```

**`onClear`**

A callback function to capture on clear button click event.

<table style={{ width: '100%' }}>
	<tr>
		<th style={{ textAlign: 'left', width: '50%' }}>TYPE</th>
		<th style={{ textAlign: 'left', width: '50%' }}>DEFAULT</th>
	</tr>
	<tr>
		<td>Function</td>
		<td>() => {}</td>
	</tr>
</table>

```jsx
<TableChips
	onClear={() => {
		// Reset some Data
	}}
/>
```

**`onRemove`**

A callback function to capture on Remove event.

<table style={{ width: '100%' }}>
	<tr>
		<th style={{ textAlign: 'left', width: '50%' }}>TYPE</th>
		<th style={{ textAlign: 'left', width: '50%' }}>DEFAULT</th>
	</tr>
	<tr>
		<td>Function</td>
		<td>() => {}</td>
	</tr>
</table>

```jsx
<TableChips
	onRemove={() => {
		// Reset some Data
	}}
/>
```

**`loading`**

loading indicates the waiting state of chart while data is loading

<table style={{ width: '100%' }}>
	<tr>
		<th style={{ textAlign: 'left', width: '50%' }}>TYPE</th>
		<th style={{ textAlign: 'left', width: '50%' }}>DEFAULT</th>
	</tr>
	<tr>
		<td>bool</td>
		<td>false</td>
	</tr>
</table>

```jsx
<TableChips loading={false} />
```

**`theme`**

The color theme of the container to select between `light` or `dark` mode.

<table style={{ width: '100%' }}>
	<tr>
		<th style={{ textAlign: 'left', width: '50%' }}>TYPE</th>
		<th style={{ textAlign: 'left', width: '50%' }}>DEFAULT</th>
	</tr>
	<tr>
		<td>String</td>
		<td>"dark"</td>
	</tr>
</table>

```jsx
<TableChips theme='light' />
```

**`className`**

Key to change style through external className.

<table style={{ width: '100%' }}>
	<tr>
		<th style={{ textAlign: 'left', width: '50%' }}>TYPE</th>
		<th style={{ textAlign: 'left', width: '50%' }}>DEFAULT</th>
	</tr>
	<tr>
		<td>String</td>
		<td>''</td>
	</tr>
</table>

```jsx
<TableChips className='chart-area' />
```

**`style`**

Key to change styles thorugh standard CSS values.

<table style={{ width: '100%' }}>
	<tr>
		<th style={{ textAlign: 'left', width: '50%' }}>TYPE</th>
		<th style={{ textAlign: 'left', width: '50%' }}>DEFAULT</th>
	</tr>
	<tr>
		<td>object</td>
		<td>{}</td>
	</tr>
</table>

```jsx
<TableChips style={{ width: '90%' }} />
```
