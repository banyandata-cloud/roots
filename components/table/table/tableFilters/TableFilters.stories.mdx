import { Meta, Canvas, Story } from '@storybook/addon-docs';

import { ThemedContainer } from '../../../helpers';
import TableFilters from './TableFilters';
import { useTableSearch } from './Search';

<Meta title='Components/Table/TableTop/Filters' parameters={{ options: { showToolbar: false } }} />

# Filter

#### Design - [Figma](https://www.figma.com/file/e9opoAtQHBo4vFd6u0Co98/Component-Library?type=design&node-id=1-5&mode=design&t=tXbQWENNIzmFNTVU-0) | Code - [Github](https://github.com/banyandata-cloud/roots/tree/main/components/table/table/tableFilters)

## Usage

Basic import and additional information on how to use this component.

```js
import { TableFilters } from '@banyan_cloud/roots';
```

## Stories

The CSF rendered inside the `Canvas` from which you can see the implementation example.

### Default

export const FILTERS = [
	{
		id: 'serviceType',
		title: 'Service Type',
		options: ['VPC', 'ABC', 'DEF'],
	},
	{
		id: 'resourceType',
		title: 'Resource Type',
		options: ['XYZ', '123', '456'],
		deps: ['serviceType'],
	},
];

<Canvas>
	<Story name='Default'>
		{() => {
			const filterValue = {
				applied: 4,
			};
			const searchOptions = useTableSearch({
				filters: FILTERS,
				onApply: (filters) => {
					alert(`${filters.length} Filter(s) Applied`);
				},
			});
			return (
				<ThemedContainer filterValue={filterValue}>
					<TableFilters filterValue={filterValue} searchOptions={searchOptions} />
				</ThemedContainer>
			);
		}}
	</Story>
</Canvas>

## API

**`className`**

Key to change style through external className.

<table style={{ width: '100%' }}>
	<tr>
		<th style={{ textAlign: 'left', width: '50%' }}>TYPE</th>
		<th style={{ textAlign: 'left', width: '50%' }}>DEFAULT</th>
	</tr>
	<tr>
		<td>String</td>
		<td>''</td>
	</tr>
</table>

```jsx
<TableFilters className='chart-area' />
```

**`theme`**

The color theme of the container to select between `light` or `dark` mode.

<table style={{ width: '100%' }}>
	<tr>
		<th style={{ textAlign: 'left', width: '50%' }}>TYPE</th>
		<th style={{ textAlign: 'left', width: '50%' }}>DEFAULT</th>
	</tr>
	<tr>
		<td>String</td>
		<td>"dark"</td>
	</tr>
</table>

```jsx
<TableFilters theme='light' />
```

**`style`**

Key to change styles thorugh standard CSS values.

<table style={{ width: '100%' }}>
	<tr>
		<th style={{ textAlign: 'left', width: '50%' }}>TYPE</th>
		<th style={{ textAlign: 'left', width: '50%' }}>DEFAULT</th>
	</tr>
	<tr>
		<td>object</td>
		<td>
			{JSON.stringify({
				width: '100%',
				height: '100%',
			})}
		</td>
	</tr>
</table>

```jsx
<TableFilters style={{ width: '90%' }} />
```

**`onRefresh`**

A callback function to capture Row Click event.

<table style={{ width: '100%' }}>
	<tr>
		<th style={{ textAlign: 'left', width: '50%' }}>TYPE</th>
		<th style={{ textAlign: 'left', width: '50%' }}>DEFAULT</th>
	</tr>
	<tr>
		<td>Function</td>
		<td>() => {}</td>
	</tr>
</table>

```jsx
<TableFilters
	onRefresh={() => {
		// Reset some Data
	}}
/>
```

**`onSearch`**

A callback function to capture Row Click event.

<table style={{ width: '100%' }}>
	<tr>
		<th style={{ textAlign: 'left', width: '50%' }}>TYPE</th>
		<th style={{ textAlign: 'left', width: '50%' }}>DEFAULT</th>
	</tr>
	<tr>
		<td>Function</td>
		<td>() => {}</td>
	</tr>
</table>

```jsx
<TableFilters
	onSearch={() => {
		// Reset some Data
	}}
/>
```
